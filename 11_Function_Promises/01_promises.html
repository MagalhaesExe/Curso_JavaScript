<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
    </head>
    <body>
        <button>Executar</button>

        <script>
            // Pending (pendente): Estado inicial
            // Fulfilled (realizada): Sucesso
            // Rejected (rejeitada): Falha na operação

            let count = 0
            function testPromise() {
                const promiseCount = ++count
                console.log("sync started")

                new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (promiseCount % 2 == 0) {
                            resolve(promiseCount)
                        } else {
                            reject(promiseCount)
                        }
                    }, 1000)
                })
                    .then((value) => {
                        console.log(`async finished ${promiseCount}`)
                    })
                    .catch(() => {
                        console.error('async error')
                    })
                

                console.log("sync finished")
            }
            const buttonEl = document.querySelector("button")
            buttonEl.addEventListener("click", testPromise)
        </script>
    </body>
</html>